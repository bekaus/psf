<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>psf: BoxPeakShape Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacepsf.html">psf</a>::<a class="el" href="classpsf_1_1_box_peak_shape.html">BoxPeakShape</a>
  </div>
</div>
<div class="contents">
<h1>BoxPeakShape Class Reference</h1><!-- doxytag: class="psf::BoxPeakShape" -->
<p><a href="classpsf_1_1_box_peak_shape-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef03986e33a0ade8ce4b42dc4493eedd"></a><!-- doxytag: member="psf::BoxPeakShape::BoxPeakShape" ref="aef03986e33a0ade8ce4b42dc4493eedd" args="(const double sigma=0.1, const double sigmaFactorForSupportThreshold=3.0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>BoxPeakShape</b> (const double sigma=0.1, const double sigmaFactorForSupportThreshold=3.0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3a67cadf62f3fca17bac164f8e75907"></a><!-- doxytag: member="psf::BoxPeakShape::at" ref="ac3a67cadf62f3fca17bac164f8e75907" args="(const double xCoordinate) const " -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>at</b> (const double xCoordinate) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#a4ddd850d233c04174a2a4e41479a51f4">getFwhm</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#ae286bff7322e9dfa7006dc6fa461b789">getSigma</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#a236526fc4b5f05fe19a7a4f719357cf8">getSigmaFactorForSupportThreshold</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#a44778914a477438e3bf06e4aa8e3950e">getSupportThreshold</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#ab5962c74d2001076db1f75565f793060">setFwhm</a> (const double fwhm)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#ae26dd39e2658fc80b4a0080d0dab11e8">setSigma</a> (const double sigma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#a9379d228d30b98107e1ec768e6e43576">setSigmaFactorForSupportThreshold</a> (const double factor)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsf_1_1_box_peak_shape.html#a8391a0d92bb7bdd8d31044d4d7c17522">sigmaToFwhmConversionFactor</a> () const </td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a497f69dd5195462ce23e591069b4232f"></a><!-- doxytag: member="psf::BoxPeakShape::sigma_" ref="a497f69dd5195462ce23e591069b4232f" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>sigma_</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1bf92c70483dfaa51a204a50297f8387"></a><!-- doxytag: member="psf::BoxPeakShape::sigmaFactorForSupportThreshold_" ref="a1bf92c70483dfaa51a204a50297f8387" args="" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>sigmaFactorForSupportThreshold_</b></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a645250d32c5135e4d5b2dfef80b3d56d"></a><!-- doxytag: member="psf::BoxPeakShape::::peakshapeTestSuite" ref="a645250d32c5135e4d5b2dfef80b3d56d" args="" -->
struct&nbsp;</td><td class="memItemRight" valign="bottom"><b>::peakshapeTestSuite</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A Gaussian-based box peak shape.</p>
<p>The idea is that centroided data can more efficiently and probably also more accurately be fit using a box peak shape. This is because the integration over the true signal PSF is carried out by the instrument, and depending on the vendor's propietray centroiding algorithms, the true m_0 may shift slightly back and forth. In this case, as the PSF intensities have already been integrated into the centroid intensity, it is not suitable to weight the observation by its devaition from the expected zero: we either take all or nothig. Nonetheless, the width of the function needs to be adapted properly and that is why we rely on the Gaussian that would be used for profile data.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classpsf_1_1_peak_shape.html">psf::PeakShape</a></dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Bernhard Kausler &lt;<a href="mailto:bernhard.kausler@iwr.uni-heidelberg.de">bernhard.kausler@iwr.uni-heidelberg.de</a>&gt; </dd>
<dd>
Marc Kirchner &lt;<a href="mailto:marc.kirchner@childrens.harvard.edu">marc.kirchner@childrens.harvard.edu</a>&gt; </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2009-10-02 </dd></dl>

<p>Definition at line <a class="el" href="_peak_shape_8h_source.html#l00098">98</a> of file <a class="el" href="_peak_shape_8h_source.html">PeakShape.h</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4ddd850d233c04174a2a4e41479a51f4"></a><!-- doxytag: member="psf::BoxPeakShape::getFwhm" ref="a4ddd850d233c04174a2a4e41479a51f4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getFwhm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the full width at half maximum. </p>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00036">36</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

<p>References <a class="el" href="_box_peak_shape_8cpp_source.html#l00048">BoxPeakShape::sigmaToFwhmConversionFactor()</a>.</p>

</div>
</div>
<a class="anchor" id="ae286bff7322e9dfa7006dc6fa461b789"></a><!-- doxytag: member="psf::BoxPeakShape::getSigma" ref="ae286bff7322e9dfa7006dc6fa461b789" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getSigma </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the sigma parameter of the Gaussian the underlies the box. </p>

<p>Definition at line <a class="el" href="_peak_shape_8h_source.html#l00126">126</a> of file <a class="el" href="_peak_shape_8h_source.html">PeakShape.h</a>.</p>

<p>Referenced by <a class="el" href="_box_peak_shape_8cpp_source.html#l00013">BoxPeakShape::getSupportThreshold()</a>.</p>

</div>
</div>
<a class="anchor" id="a236526fc4b5f05fe19a7a4f719357cf8"></a><!-- doxytag: member="psf::BoxPeakShape::getSigmaFactorForSupportThreshold" ref="a236526fc4b5f05fe19a7a4f719357cf8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getSigmaFactorForSupportThreshold </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the factor used in the support threshold calculation. </p>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00044">44</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

<p>Referenced by <a class="el" href="_box_peak_shape_8cpp_source.html#l00013">BoxPeakShape::getSupportThreshold()</a>.</p>

</div>
</div>
<a class="anchor" id="a44778914a477438e3bf06e4aa8e3950e"></a><!-- doxytag: member="psf::BoxPeakShape::getSupportThreshold" ref="a44778914a477438e3bf06e4aa8e3950e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getSupportThreshold </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The support threshold for the box is calculated based on a Gaussian according to 'sigma x sigmaFactorForSupportThreshold'. </p>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00013">13</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

<p>References <a class="el" href="_peak_shape_8h_source.html#l00126">BoxPeakShape::getSigma()</a>, and <a class="el" href="_box_peak_shape_8cpp_source.html#l00044">BoxPeakShape::getSigmaFactorForSupportThreshold()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5962c74d2001076db1f75565f793060"></a><!-- doxytag: member="psf::BoxPeakShape::setFwhm" ref="ab5962c74d2001076db1f75565f793060" args="(const double fwhm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFwhm </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>fwhm</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the full width at half maximum.</p>
<p>This changes the sigma parameter according to <img class="formulaInl" alt="$ \mathrm{FWHM}=2\sqrt{2\ln2}\cdot\sigma $" src="form_21.png"/>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fwhm</em>&nbsp;</td><td>Has to be positive. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>psf::PreconditionViolation</em>&nbsp;</td><td>fwhm is not positive. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00032">32</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

<p>References <a class="el" href="_box_peak_shape_8cpp_source.html#l00048">BoxPeakShape::sigmaToFwhmConversionFactor()</a>.</p>

</div>
</div>
<a class="anchor" id="ae26dd39e2658fc80b4a0080d0dab11e8"></a><!-- doxytag: member="psf::BoxPeakShape::setSigma" ref="ae26dd39e2658fc80b4a0080d0dab11e8" args="(const double sigma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSigma </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>sigma</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the sigma parameter of the underlying Gaussian.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sigma</em>&nbsp;</td><td>Has to be positive. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>psf::PreconditionViolation</em>&nbsp;</td><td>Sigma is not positive. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00026">26</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9379d228d30b98107e1ec768e6e43576"></a><!-- doxytag: member="psf::BoxPeakShape::setSigmaFactorForSupportThreshold" ref="a9379d228d30b98107e1ec768e6e43576" args="(const double factor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSigmaFactorForSupportThreshold </td>
          <td>(</td>
          <td class="paramtype">const double&nbsp;</td>
          <td class="paramname"> <em>factor</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the factor for the threshold calculation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>factor</em>&nbsp;</td><td>Has to be positive. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>psf::PreconditionViolation</em>&nbsp;</td><td>factor is not positive. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00040">40</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8391a0d92bb7bdd8d31044d4d7c17522"></a><!-- doxytag: member="psf::BoxPeakShape::sigmaToFwhmConversionFactor" ref="a8391a0d92bb7bdd8d31044d4d7c17522" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double sigmaToFwhmConversionFactor </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><img class="formulaInl" alt="$ 2\sqrt{2\ln2} $" src="form_22.png"/> </p>

<p>Definition at line <a class="el" href="_box_peak_shape_8cpp_source.html#l00048">48</a> of file <a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a>.</p>

<p>Referenced by <a class="el" href="_box_peak_shape_8cpp_source.html#l00036">BoxPeakShape::getFwhm()</a>, and <a class="el" href="_box_peak_shape_8cpp_source.html#l00032">BoxPeakShape::setFwhm()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_peak_shape_8h_source.html">PeakShape.h</a></li>
<li><a class="el" href="_box_peak_shape_8cpp_source.html">BoxPeakShape.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Oct 4 21:15:38 2011 for psf by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
